\input{shortcuts.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document formatting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% To print in a4
%\documentclass[a4,10pt,twoside,openright,english,italian]{book}% twoside!
% To print in A5
\documentclass[10pt,twoside,openright,english,italian]{book}% twoside!

% Set paper size
\usepackage[twoside=true]{geometry}
% In the Blurb format
\geometry{
	paperwidth=12.583in,
	paperheight=9.250in,
	margin=2cm,
	top=2.3cm,
	bindingoffset=0.4cm
}
% % In the weird format
% \geometry{
% 	paperwidth=17cm,
% 	paperheight=24cm,
% 	margin=2cm,
% 	top=2.3cm,
% 	bindingoffset=0.4cm
% }
% A4
% \geometry{a4paper,
%   margin=3cm,
%   top=3.8cm,
%   bindingoffset=0.4cm
% }

%Uncomment this for final prints: this just enables printing on a4 paper
%\usepackage[cam,center,a4,pdflatex,axes]{crop}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom Packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{pgf}
\usepackage{pgfplots}
%\pgfplotsset{compat=1.11}
\usepackage{tikz}
\pgfplotsset{compat=1.9} % set advanced options of tikz
\usetikzlibrary{positioning}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{automata}
\usetikzlibrary{arrows}
\usepackage{neuralnetwork}

\usepackage{fancyhdr}
\usepackage{color}
\usepackage{array}
\usepackage{mdwmath}
\usepackage{mdwtab}
\usepackage{amsmath,amsthm,amssymb}
%\usepackage{cite}
\usepackage{graphicx}
%\usepackage{glossaries}
\usepackage{listings}
%\usepackage{subfig}% hyperref support within the subfig package is broken
\usepackage{booktabs}
\usepackage{latexsym}
\usepackage{color}
\usepackage{url}
\usepackage{bnf}
\usepackage{rotating}
\usepackage{multirow}
\usepackage{phdtitle}
\usepackage{paralist}
%\usepackage{bibentry}
%\usepackage[algochapter]{algorithm2e}
\usepackage{lscape}
%\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{longtable}
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
%\usepackage[utf8]{inputenc}
\usepackage{authblk}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{natbib}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{epigraph}
\usepackage{float}
\usepackage{todonotes}
\setlength{\marginparwidth}{3cm}  % Set margin width for todonotes
\usepackage{afterpage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Language and notation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[english,italian]{babel} % has to precede hyperref to set the language of \autoref
\usepackage[bookmarks=true,pdftex=false,bookmarksopen=true,pdfborder={0,0,0}]{hyperref}
% Change section, subsection and subsubsection to Section (in autoref)
\addto\extrasenglish{%
    \renewcommand{\sectionautorefname}{Section \negthinspace}
}
\addto\extrasenglish{%
    \renewcommand{\subsectionautorefname}{Section \negthinspace}
}
\addto\extrasenglish{%
    \renewcommand{\subsubsectionautorefname}{Section \negthinspace}
}
% Change chapter to Chapter (in autoref)
\addto\extrasenglish{%
    \renewcommand{\chapterautorefname}{Chapter \negthinspace}
}
\hyphenation{}

\newtheorem{Definition}{Definition}[section]


\lstset{tabsize=2,basicstyle=\footnotesize,breaklines=true}
\usepackage{ulem}
\normalem

\begin{hyphenrules}{english}
    \hyphenation{La-yer Va-nil-la DEConv-LSTM Deconv-LSTM Trans-conv-LSTM}
\end{hyphenrules}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Neural network customization
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{nn_customization.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title, names, etc, ..
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hypersetup{pdftitle={Deep Recurrent Neural Networks for visual scene understanding}, pdfauthor={Visin Francesco}}

%\nobibliography*

\department {Department of Electronics, Information and Bioengineering}
\phdprogram{Doctoral Programme In Computer Science}

\author{Francesco Visin}
\title{Deep Recurrent Neural Networks for Visual Scene Understanding}
\supervisor{Matteo Matteucci}
\cosupervisor{Aaron Courville}
\tutor{Andrea Bonarini}
\chair{Andrea Bonarini}
\titleimage{img/logopoli.png}
\phdcycle{2016 -- XXVIII}

% From conv_arithmetic
\definecolor{blue}{RGB}{38,139,210}
\definecolor{cyan}{RGB}{42,161,152}
\definecolor{violet}{RGB}{108,113,196}
\definecolor{red}{RGB}{220,50,47}
\definecolor{base01}{RGB}{88,110,117}
\definecolor{base02}{RGB}{7,54,66}
\definecolor{base03}{RGB}{0,43,54}

\usetikzlibrary{calc,shapes,positioning}

\newtheorem{relationship}{Relationship}
\providecommand*{\relationshipautorefname}{Relationship}
\surroundwithmdframed[
    topline=false,
    bottomline=false,
    middlelinewidth=0.5pt,
    linecolor=base01,
    roundcorner=5pt,
    innertopmargin=0pt,
    leftmargin=15pt,
    rightmargin=15pt,
    nobreak=true,
]{relationship}

\let\originalepigraph\epigraph
\renewcommand\epigraph[2]{\originalepigraph{\textit{#1}}{\textsc{#2}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Others
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Force float to be top aligned
\makeatletter
    \setlength{\@fptop}{0pt}
    \setlength{\@fpbot}{0pt plus 1fill}
\makeatother

\makeatletter

% define a macro \Autoref to allow multiple references to be passed to \autoref
\newcommand\Autoref[1]{\@first@ref#1,@}
\def\@throw@dot#1.#2@{#1}% discard everything after the dot
\def\@set@refname#1{%    % set \@refname to autoefname+s using \getrefbykeydefault
    \edef\@tmp{\getrefbykeydefault{#1}{anchor}{}}%
    \def\@refname{\@nameuse{\expandafter\@throw@dot\@tmp.@autorefname}s}%
}
\def\@first@ref#1,#2{%
  \ifx#2@\autoref{#1}\let\@nextref\@gobble% only one ref, revert to normal \autoref
  \else%
    \@set@refname{#1}%  set \@refname to autoref name
    \@refname~\ref{#1}% add autoefname and first reference
    \let\@nextref\@next@ref% push processing to \@next@ref
  \fi%
  \@nextref#2%
}
\def\@next@ref#1,#2{%
   \ifx#2@ and~\ref{#1}\let\@nextref\@gobble% at end: print and+\ref and stop
   \else, \ref{#1}% print  ,+\ref and continue
   \fi%
   \@nextref#2%
}

\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Let's Start The Real Document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\pagenumbering{gobble}  % remove page num
\definecolor{myorange}{RGB}{255, 153, 51}
\pagecolor{myorange}

% TITLE
\begin{minipage}{.5\textwidth}
    \hfill
\end{minipage}
\begin{minipage}{.5\textwidth}
    \begin{center}
    \bfseries
      %\vspace*{-2.5cm}
      % \begin{figure}[htbp]
      %   \begin{center}
      %      \includegraphics[width=26mm]{img/logopoli.png}
      %   \end{center}
      % \end{figure}
      % \large{\sc Politecnico di Milano\\
      % Department of Electronics, Information and Bioengineering}\\
      \normalsize
      \vspace*{4.5cm}
      \LARGE\sc
      \hspace{2cm}Deep Recurrent Neural Networks for Visual Scene Understanding\\
    \end{center}
    \large
    \begin{flushright}
      \large Francesco Visin\\
    \end{flushright}
    \vspace*{1cm}
    \selectlanguage{english}
    % NN Image
    % \centering
    % \begin{neuralnetwork} [nodespacing=7.5mm, layerspacing=23mm,
    %         maintitleheight=2.5em, layertitleheight=5em,
    %         height=3, toprow=True, nodesize=17pt,
    %         style={}, title={}, titlestyle={}]
    %     %%%%% Layers
    %     \inputlayer[count=2, bias=false, text=\nodetextxi]
    %     \hiddenlayer[count=3, bias=true, text=\nodetexthi]
    %     {\setdefaultlinklabel{\wijllink}\linklayers}
    %     \hiddenlayer[count=5, bias=true, text=\nodetexthi]
    %     {\setdefaultlinklabel{\wijllink}\linklayers}
    %     \hiddenlayer[count=4, bias=true, text=\nodetexthi]
    %     {\setdefaultlinklabel{\wijllink}\linklayers}
    %     \outputlayer[count=1, text=\nodetexty]
    %     {\setdefaultlinklabel{\wijllink}\linklayers}
    % \end{neuralnetwork}
\end{minipage}

\end{document}
